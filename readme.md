System Programming - Project 1 - 2021

Name: Ioannis

Surname: Georgopoulos

sdi:1115201800026

   Το readme.txt περιέχει σχόλια όσων αναφορά την υλοποίηση των δομών   
 καθώς και σχολιασμό πανώ σε κάποιες συναρτήσεις που απαιτούν σχολιασμό 

## ------------------------------------------Η ΕΦΑΡΜΟΓΗ------------------------------------------ ##

## --------------------------------::::Υλοποίηση Δομών Δεδομένων::::--------------------------------- ##

citizenRecord:
==============
    Υλοποίηση citizenRecord:
    ------------------------
    Σε αυτή τη δομή αποθηκεύονται καθε citizen υπάρχει, δηλαδή ένα citizenRecord για καθε ένα πολίτη.
    Εδώ αποθηκεύονται το id του citizen, το όνομα του, το επώνυμο του, η ηλικία του και η χώρα του.
    Η χώρα βέβαια αποθηκεύεται στο country tree και ο πολίτης δείχνει στον κόμβο του δέντρου χωρών
    που αντιστοιχεί στη χώρα του έτσι αποφεύγεαι πολλαπλή αποθήκευση των στοιχείων της καθε χώρας.

Bloomfilter:
============
    Υλοποίηση Bloomfilter:
    ----------------------
    Το bloom filter αποτελείται από το bloomsize το οποιο περιέχει το μέγεθος του bloom filter
    και μετριέται σε bits. Επισης αποτελείται από το numOfHashes στο οποίο αποθηκεύεται ο αριθμός
    των hash functions για αυτό το bloom filter. Τέλος υπάρχει το char *bloomfilter στο οποίο
    η σειρά από bits που χρησιμοποιεί το bloomfilter σε μορφή πίνακα από chars. Χρησιμοποιώ τύπο
    μεταβλητής char γιατί είναι ο μικρότερος τυπος μεταβλητής στην C(8 bits). Έτσι κατά το allocation
    του πίνακα των chars θα παρω τον αριθμό των bits και θα τον κάνω div 8 (8 είναι τα bits ενός char)
    και θα φτιάξω τοσές θέσεις στον πίνακα. Μετά αν υπάρχει υπόλοιπο στην διαίρεση θα προσθέσω άλλη
    μια θέση στο πίνακα των chars. Έτσι χρησιμοποιόντας char για τον πίνακα αν υπάρχει υπολοιπό στη
    διαίρεση (δηλαδή αν bloomsize mod 8 > 0) θα υπάρχει η μικρότερη σπατάλη μνήμης.

    Συναρτήσεις Bloomfilter:
    ------------------------
    ->bloomFilter_init: Αρχικοποιεί τα bloomsize και numOfHashes από τα ορίσματα που δίνονται και
    σύμφωνα με το bloomsize δημιουργεί το bloomfilter(array) όπως περιγράφτηκε παραπάνω.

    ->bloom_setBit: Κάνει το n bit του bloomsize(array) ίσο με ένα και παραμένει 1 αν είναι ήδη 1.
    Αυτό το κάνει με τη χρήση της λογικής πράξης or. Για παράδειγμα αν θέλουμε να κάνουμε το bit 7
    (μετρώντας από το 0) ίσο με 1 παίρνουμε την 7 div 8 = 0 θέση του πίνακα και κάνουμε λογικό or με
    μια σειρά από bits που μονο το 7 mod 8 = 7o bit είναι 1(αυτό γίνεται με την εντολή (11 << (n % 8)) 
    στη C). Το αποτέλεσμα του or θα το αποθηκευσει πίσω στην (7 div 8 = 0) θέση του πίνακα. Αν ηταν
    λοιπον (00010010 or 00000001 = 00010011) δηλαδή το 7ο bit έγινε 0.(7ο bit μετροντας πάντα πό το 0)

    ->bloom_checkBit: Βλέπει αν το n bit είναι ίσο με 1 ή  0. Αυτό το κάνει με αντίστοιχο τρόπο με την 
    (bloom_setBit) αλλά αντί να χρησιμοποιεί λογικό or αυτή τη φορά χρησιμοποιεί λογικό and. Έτσι αν
    το array από bits είναι 00010111 και θέλουμε να τεστάρουμε αν το bit 4(μετρώντας από το 0) είναι 1 ή 0
    Θα φτιάξω τη σειρά από bits όπου το 4 mod 8 = 4o bit θα το κανω 1 δηλαδή (00001000) και έπειτα κάνοντας
    00010111 and 00001000 = 00000000 αν το αποτέλεσμα είναι διάφορο του 0 ως int τότε το bit θα είναι 1 
    αλλίως 0. Στην συγκεκριμένη περίπτωση το 4ο bits (μετρώντας από το 0) ήταν 0.

skipList:
=========
    Υλοποίηση skipList:
    -------------------
    To skipList αποθηκεύει citizen record οι οποίοι είτε έχουν εμβολιαστεί είτε όχι αν έχουν εμβολιαστεί
    στο πεδίο Date θα υπάρχει ένα date εμβολιασμού αλλιώς αν δεν έχουν εμβολιαστεί το date θα είναι null.
    Για την υλοποίηση χρησιμοποίησα ένα node για κάθε record και ένα node ως head που έχει στο πεδίο
    citizen id τιμή -1 και ενα node για tail που στο πεδίο citizen id έχει τιμή 10000 (και το -1 και το 10000
    είναι ακριανές τιμές που το citizen id ενός πραγματικού record ποτέ δεν θα φτάσει). Επίσης το skipList
    έχει τη μεταβλητή height που δείχνει το ύψος της skipList μια δεδομένη στιγμή (το ύψος περιορίζεται από 
    μια defined μεταβλητή την MAX_SKIP_LIST_HEIGHT=14, το 14 βγαίνει από την πράξη lg(10000)~=14 όπου 10000
    είναι ο μέγιστος αριθμός citizen που μπορουν να υπάρξουν άφου το citizen id είναι από το 1~9999 και σε
    ένα skipList δεν μπορούν να υπάρχουν duplicate. Τα 14 max level χρησιμοποιείται έτσι ώστε να εξασφαλιστεί
    η πολυπλοκότητα αναζήτησης στο skipList να είναι log(n) αφού τα στοιχεία σε ένα skipList μπορεί να είναι
    μεχρι 10000, log(10000)~=14 levels). Για τη σύνδεση των κόμβων της skipList γίνεται με τον πίνακα nextNodes
    που ανάλογα με το level που βρισκόμαστε το next node είναι διαφορεικό.

    Συναρτήσεις skipList:
    ---------------------
    ->skipList_check_level: Αυτή η συνάρτηση εφαρμόζεται μετά τη διαγραφή ένος record από το skipList έτσι ώστε
    αν κατα την διαγραφή έχει μείνει κάποιο τοπ λεβελ κενό να μειωθεί το height του skipList.

BST(citizen tree):
==================
    Υλοποίηση Binary Search Tree:
    -----------------------------
    Το BST αποθηκεύει όλους του citizens όλων των χωρών. Η κύρια χρήση του είναι ο έλεγχος των duplicates έτσι
    ώστε ο κάθε πολίτης να αποθηκεύεται κατά την διάρκεια λειτουργίας της εφαρμογής μόνο μια φορά.

linkedList(virus list):
=======================
    Υλοποίηση linkedList(virus list):
    ---------------------------------
    Η linkedList(Virus list) είναι μια απλά συνδεδεμένη λίστα με δείκτες στην αρχή και το τέλος της λίστας.
    Χρησιμοποιείται για την αποθήκευση των viruses.

Virus:
======
    Υλοποίηση Virus:
    ----------------
    Το Virus αποτελείται από το όνομά του, ένα bloomfilter όπου μπαίνουν όλοι όσοι έχουν εμβολιαστεί στο 
    συγκεκριμένο virus και δύο skipList, ένα όπου αποθηκεύονται όλοι όσοι έχουν εμβολιαστεί για το virus
    αυτό και ένα skipList που αποθηκεύονται όλοι όσοι δεν έχουν εμβολιαστεί. 

Country Binary Tree:
====================
    Υλοποίηση Country Binary Tree:
    ------------------------------
    Το country tree αποθηκεύει όλες της χώρες. Το κλειδί που χρησιμοποιέιται για τη εισαγωγή μιας χώρας στο
    δέντρο είναι το όνομα της. Για την κάθε χώρα δημιουργείται ένας κόμβος. Στον κόμβο αυτό αποθηκεύονται
    το όνομα της χώρας, ο πληθυσμός της, καθώς και ο πλυθησμός του κάθε age group που χρησιμοποιείται στο
    "/popStatusByAge".
    
Date:
=====
    Υλοποίηση Date:
    ---------------
    To Date αποθηκεύει μια ημερομηνία. Η ύπαρξη αυτής της δομής είναι για την καλυτερη διαχείρηση και
    σύγκριση των ημερομηνιών.

## --------------::Μεταγλωτισμός και Εκτελεση::--------------

Το πρόγραμμα μεταγλωτίζεται με το makeFile που υπάρχει.
Εκτελείται με ./bin/vaccineMonitor -c citizenRecordsFile –b bloomSize από το φάκελο Project 1.
